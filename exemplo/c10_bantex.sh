# c10_bantex.sh

#-----------------------------------------------------------------------------#
#	Gerenciadro do Banco Textual
#	
#	Biblioteca de funções para gerenciar os dados do banco textual. Use o
#	comando "source" para inclui-la em seu script
#-----------------------------------------------------------------------------#
#	Autor:
#		Adam Fabricio Silveira Silva
#-----------------------------------------------------------------------------#
#	Histórico:
#		V0.1 - Cadastra e remove registro do banco
#-----------------------------------------------------------------------------#
#
#----------------------------------Configurações------------------------------#

SEP=:								#  defina aqui o separador, o padrão é ":"
TEMP=temp.$$						#  arquivo temporário

#------------------------------------Funções----------------------------------#
#  O arquivo de texto com o banco já deve estar definido

[ "$BANCO" ] || {
	echo "Base de dados não informada. Use a varável BANCO."
	return 1
}
#  Apaga o registro da chave $1 do banco
apaga_registro() {
	grep -i -v "^$1$SEP" "$BANCO" > "$TEMP"				#  apaga a chave
	mv "$TEMP" "$BANCO"									#  regrava o banco
}

#  Insere o registro $* no banco
insere_registro() {
	echo "$*" >> "$BANCO"								#  grava o registro
}

#-----------------------------------------------------------------------------#
#-----------------------------------------------------------------------------#
#-----------------------------------------------------------------------------#
#-----------------------------------------------------------------------------#
#-----------------------------------------------------------------------------#
#-----------------------------------------------------------------------------#
#-----------------------------------------------------------------------------#
#-----------------------------------------------------------------------------#
#-----------------------------------------------------------------------------#
#-----------------------------------------------------------------------------#

